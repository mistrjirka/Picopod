Distributed Tree Protocol (DTP)
In the Distributed Tree Protocol, each node operates independently in the network and can act as a proxy for communication. The protocol defines several packet types for different purposes:

    ACK (Acknowledgment): Packet type 0. Used to acknowledge successful receipt of a packet.
    NACK (Negative Acknowledgment) - Failed to reach target: Packet type 1. Indicates that the target device was not reached even though it was present in the neighbor list.
    NACK (Negative Acknowledgment) - Unknown target: Packet type 2. Indicates that the target device is not present in the neighbor list.
    Neighbor Announcement Packet (NAP): Packet type 3. Used to announce neighboring nodes. Contains the ID and range of each neighbor, along with the sender's own information.
    Data packet: Packet type 4. Used for sending data. If the packet is not sent directly to the target device and needs to go through a proxy, the proxy node ID is included in the packet.

The Neighbor list is a data structure that stores information about each node's neighbors. It includes the node's ID and a list of neighboring nodes, with their respective IDs and communication ranges.

Here is the structure and content of the packets:

Neighbor Announcement Packet (NAP):

    Packet type: integer
    ID: integer
    Nodes: List of neighboring nodes, each with their ID and range
    CRC (Cyclic Redundancy Check): integer

Data packet:

    Packet type: integer
    ID sender: integer
    ID target: integer
    ID proxy sender: integer
    ID proxy: integer (If the target is within range, the proxy ID is set to the target's ID)
    ID message: integer
    Length: integer
    Data: bytes
    Proxy IDs length: integer
    Proxy IDs: List of proxy IDs
    CRC: integer

Response packets:

ACK/NACK packet:

    Packet type: integer
    ID message: integer
    ID sender: integer
    ID target: integer
    ID proxy sender: integer
    ID proxy: integer (If the target is within range, the proxy ID is set to the target's ID)
    Proxy IDs length: integer
    Proxy IDs: List of proxy IDs
    CRC: integer

These packet structures and types allow for effective communication and handling of data and acknowledgments within the Distributed Tree Protocol.